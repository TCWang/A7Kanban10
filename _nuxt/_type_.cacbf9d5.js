import{_ as P}from"./nuxt-img.9f00fa54.js";import{o as y,c as j,a as o,u as L,b as p,t as O,w as v,v as w,n as U,k as H,l as I,g as T,m as K,p as V,s as Q,q as X,F as Y,r as Z,d as z,e as ee,f as te}from"./entry.1c6c0bcc.js";import{r as ae}from"./restaurants.b5467b54.js";import"./vue.f36acd1f.808cfd6d.js";const re=""+new URL("LOG-02-heartFilled.7a401f85.png",import.meta.url).href,se=""+new URL("LOG-02-heartOutline.cdbc192a.png",import.meta.url).href,ne={class:"relative shadow border-hidden w-full overflow-hidden mb-5 cursor-pointer h-[220px] md:h-[220px]"},oe=["src"],ie={class:"p-4 flex flex-col"},le={class:"text-bold"},ce={class:"mt-auto"},ue=["href"],fe={class:"mt-auto"},de={class:"mt-auto"},he={class:"flex flex-row space-x-4"},pe=["href"],ge=["href"],me=["href"],be=["href"],ve=["href"],we=["href"],ye=["href"],_e={__name:"Card",props:{restaurant:Object,favored:Boolean},emits:["favor"],setup(e,{emit:t}){return(a,r)=>{const s=P;return y(),j("div",ne,[o("img",{class:"absolute w-7 right-2 top-1 z-20",src:e.favored?L(re):L(se),alt:"",onClick:r[0]||(r[0]=i=>t("favor",e.restaurant.id))},null,8,oe),o("div",{class:"flex flex-row md:flex-row h-full bg-zinc-100 rounded-2xl shadow-md",onClick:r[1]||(r[1]=i=>("navigateTo"in a?a.navigateTo:L(U))(`/restaurant/${e.restaurant.name}-${e.restaurant.id}`))},[p(s,{src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/restaurant/${e.restaurant.figureLogo}`,alt:"",class:"w-[150px] sm:w-[200px] md:w-[250px] lg:w-[300px] h-[150px] sm:h-full rounded-xl transform hover:scale-110 duration-200"},null,8,["src"]),o("div",ie,[o("div",null,[o("p",le,O(e.restaurant.type)+" - "+O(e.restaurant.name),1),o("p",ce,[o("a",{href:e.restaurant.google},O(e.restaurant.address),9,ue)]),o("p",fe,"電話; "+O(e.restaurant.telphone),1),o("p",de,"營業: "+O(e.restaurant.hours),1)]),o("div",he,[v(o("a",{href:e.restaurant.web},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Web.jpeg"})],8,pe),[[w,e.restaurant.web]]),v(o("a",{href:e.restaurant.facebook},[p(s,{class:"h-12 hover:scale-150",src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Facebook.png
            `})],8,ge),[[w,e.restaurant.facebook]]),v(o("a",{href:e.restaurant.line},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Line.png"})],8,me),[[w,e.restaurant.line]]),v(o("a",{href:e.restaurant.ig},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Ig.png"})],8,be),[[w,e.restaurant.ig]]),v(o("a",{href:e.restaurant.uber},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Uber.jpeg"})],8,ve),[[w,e.restaurant.uber]]),v(o("a",{href:e.restaurant.panda},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Panda.png"})],8,we),[[w,e.restaurant.panda]]),v(o("a",{href:e.restaurant.menu},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Menu.jpeg"})],8,ye),[[w,e.restaurant.menu]])])])])])}}},ke=_e;function Se(e){return H()?(I(e),!0):!1}function N(e){return typeof e=="function"?e():L(e)}const xe=typeof window<"u"&&typeof document<"u",Oe=Object.prototype.toString,Le=e=>Oe.call(e)==="[object Object]",je=()=>{};function Ae(e,t){function a(...r){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(i)})}return a}const R=e=>e();function Fe(e=R){const t=T(!0);function a(){t.value=!1}function r(){t.value=!0}const s=(...i)=>{t.value&&e(...i)};return{isActive:K(t),pause:a,resume:r,eventFilter:s}}function qe(e,t,a={}){const{eventFilter:r=R,...s}=a;return V(e,Ae(r,t),s)}function Ce(e,t,a={}){const{eventFilter:r,...s}=a,{eventFilter:i,pause:u,resume:k,isActive:S}=Fe(r);return{stop:qe(e,t,{...s,eventFilter:i}),pause:u,resume:k,isActive:S}}function Ne(e){var t;const a=N(e);return(t=a==null?void 0:a.$el)!=null?t:a}const q=xe?window:void 0;function D(...e){let t,a,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,r,s]=e,t=q):[t,a,r,s]=e,!t)return je;Array.isArray(a)||(a=[a]),Array.isArray(r)||(r=[r]);const i=[],u=()=>{i.forEach(f=>f()),i.length=0},k=(f,c,_,h)=>(f.addEventListener(c,_,h),()=>f.removeEventListener(c,_,h)),S=V(()=>[Ne(t),N(s)],([f,c])=>{if(u(),!f)return;const _=Le(c)?{...c}:c;i.push(...a.flatMap(h=>r.map(d=>k(f,h,d,_))))},{immediate:!0,flush:"post"}),g=()=>{S(),u()};return Se(g),g}const A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F="__vueuse_ssr_handlers__",$e=Ee();function Ee(){return F in A||(A[F]=A[F]||{}),A[F]}function De(e,t){return $e[e]||t}function Ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Te={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},G="vueuse-storage";function Ve(e,t,a,r={}){var s;const{flush:i="pre",deep:u=!0,listenToStorageChanges:k=!0,writeDefaults:S=!0,mergeDefaults:g=!1,shallow:f,window:c=q,eventFilter:_,onError:h=n=>{console.error(n)}}=r,d=(f?Q:T)(t);if(!a)try{a=De("getDefaultStorage",()=>{var n;return(n=q)==null?void 0:n.localStorage})()}catch(n){h(n)}if(!a)return d;const m=N(t),$=Ge(m),x=(s=r.serializer)!=null?s:Te[$],{pause:W,resume:E}=Ce(d,()=>J(d.value),{flush:i,deep:u,eventFilter:_});return c&&k&&(D(c,"storage",C),D(c,G,M)),C(),d;function J(n){try{if(n==null)a.removeItem(e);else{const l=x.write(n),b=a.getItem(e);b!==l&&(a.setItem(e,l),c&&c.dispatchEvent(new CustomEvent(G,{detail:{key:e,oldValue:b,newValue:l,storageArea:a}})))}}catch(l){h(l)}}function B(n){const l=n?n.newValue:a.getItem(e);if(l==null)return S&&m!==null&&a.setItem(e,x.write(m)),m;if(!n&&g){const b=x.read(l);return typeof g=="function"?g(b,m):$==="object"&&!Array.isArray(b)?{...m,...b}:b}else return typeof l!="string"?l:x.read(l)}function M(n){C(n.detail)}function C(n){if(!(n&&n.storageArea!==a)){if(n&&n.key==null){d.value=m;return}if(!(n&&n.key!==e)){W();try{(n==null?void 0:n.newValue)!==x.write(d.value)&&(d.value=B(n))}catch(l){h(l)}finally{n?X(E):E()}}}}}function ze(e,t,a={}){const{window:r=q}=a;return Ve(e,t,r==null?void 0:r.localStorage,a)}const Re={class:"w-full"},We=o("h2",null,"餐廳推薦",-1),Je=o("p",null,[o("span",{class:"text-red-600"},"可點選照片進入餐廳詳細介紹"),ee(", 請輸入查詢區域 (A7, A8, A9, 桃園)及使用下拉選單選擇餐廳種類。 餐廳依據地址排序 ")],-1),Be={__name:"Cards",props:{restaurants:Array},setup(e){const t=ze("favorite",{}),a=r=>{r in t.value?delete t.value[r]:t.value={...t.value,[r]:!0}};return(r,s)=>{const i=ke;return y(),j("div",Re,[We,Je,(y(!0),j(Y,null,Z(e.restaurants,u=>(y(),z(i,{key:u.id,restaurant:u,onFavor:a,favored:u.id in L(t)},null,8,["restaurant","favored"]))),128))])}}},Me=Be,Pe={key:1,class:"text-red-600"},Qe={__name:"[[type]]",setup(e){const t=te(),a={filtered:[...ae].filter(r=>t.params.type===""||t.params.type==="所有餐廳"?r.category.toLowerCase()===t.params.city.toLowerCase():r.category.toLowerCase()===t.params.city.toLowerCase()&&r.type===t.params.type).sort((r,s)=>r.address.localeCompare(s.address))};return(r,s)=>{const i=Me;return y(),j("div",null,[a.filtered.length?(y(),z(i,{key:0,restaurants:a.filtered},null,8,["restaurants"])):(y(),j("h1",Pe,"沒有餐廳符合搜尋條件"))])}}};export{Qe as default};
