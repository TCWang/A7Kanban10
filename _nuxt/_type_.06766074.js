import{r as P,t as se,o as ne,a as V,w as H,u as ae,b as w,c as X,g as ie,d as oe,e as ce,f as y,h as $,m as G,i as le,j,k as N,l as B,n as E,p as A,v as D,q as ue,s as fe,x as he,y as de,z as pe,A as ye,F as ge,B as me,C as be,D as Z,E as ve,G as we}from"./entry.981f790a.js";import{_ as _e}from"./nuxt-img.7e90e317.js";import"./vue.f36acd1f.c902f7ab.js";const ke=()=>null;function Se(...e){const n=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(n);let[s,t,r={}]=e;if(typeof s!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");r.server=r.server??!0,r.default=r.default??ke,r.lazy=r.lazy??!1,r.immediate=r.immediate??!0;const a=ae(),o=()=>a.isHydrating?a.payload.data[s]:a.static.data[s],f=()=>o()!==void 0;(!a._asyncData[s]||!r.immediate)&&(a._asyncData[s]={data:P(o()??r.default()),pending:P(!f()),error:se(a.payload._errors,s),status:P("idle")});const i={...a._asyncData[s]};i.refresh=i.execute=(c={})=>{if(a._asyncDataPromises[s]){if(c.dedupe===!1)return a._asyncDataPromises[s];a._asyncDataPromises[s].cancelled=!0}if((c._initial||a.isHydrating&&c._initial!==!1)&&f())return o();i.pending.value=!0,i.status.value="pending";const g=new Promise((l,m)=>{try{l(t(a))}catch(S){m(S)}}).then(l=>{if(g.cancelled)return a._asyncDataPromises[s];let m=l;r.transform&&(m=r.transform(l)),r.pick&&(m=xe(m,r.pick)),i.data.value=m,i.error.value=null,i.status.value="success"}).catch(l=>{if(g.cancelled)return a._asyncDataPromises[s];i.error.value=l,i.data.value=w(r.default()),i.status.value="error"}).finally(()=>{g.cancelled||(i.pending.value=!1,a.payload.data[s]=i.data.value,i.error.value&&(a.payload._errors[s]=X(i.error.value)),delete a._asyncDataPromises[s])});return a._asyncDataPromises[s]=g,a._asyncDataPromises[s]};const u=()=>i.refresh({_initial:!0}),h=r.server!==!1&&a.payload.serverRendered;{const c=ie();if(c&&!c._nuxtOnBeforeMountCbs){c._nuxtOnBeforeMountCbs=[];const l=c._nuxtOnBeforeMountCbs;c&&(ne(()=>{l.forEach(m=>{m()}),l.splice(0,l.length)}),V(()=>l.splice(0,l.length)))}h&&a.isHydrating&&f()?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):c&&(a.payload.serverRendered&&a.isHydrating||r.lazy)&&r.immediate?c._nuxtOnBeforeMountCbs.push(u):r.immediate&&u(),r.watch&&H(r.watch,()=>i.refresh());const g=a.hook("app:data:refresh",l=>{if(!l||l.includes(s))return i.refresh()});c&&V(g)}const d=Promise.resolve(a._asyncDataPromises[s]).then(()=>i);return Object.assign(d,i),d}function xe(e,n){const s={};for(const t of n)s[t]=e[t];return s}const K=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function Be(e,n){n?n={...K,...n}:n=K;const s=ee(n);return s.dispatch(e),s.toString()}const Oe=Object.freeze(["prototype","__proto__","constructor"]);function ee(e){let n="",s=new Map;const t=r=>{n+=r};return{toString(){return n},getContext(){return s},dispatch(r){return e.replacer&&(r=e.replacer(r)),this[r===null?"null":typeof r](r)},object(r){if(r&&typeof r.toJSON=="function")return this.object(r.toJSON());const a=Object.prototype.toString.call(r);let o="";const f=a.length;f<10?o="unknown:["+a+"]":o=a.slice(8,f-1),o=o.toLowerCase();let i=null;if((i=s.get(r))===void 0)s.set(r,s.size);else return this.dispatch("[CIRCULAR:"+i+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(r))return t("buffer:"),t(r.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")this[o]?this[o](r):e.ignoreUnknown||this.unkown(r,o);else{let u=Object.keys(r);e.unorderedObjects&&(u=u.sort());let h=[];e.respectType!==!1&&!J(r)&&(h=Oe),e.excludeKeys&&(u=u.filter(c=>!e.excludeKeys(c)),h=h.filter(c=>!e.excludeKeys(c))),t("object:"+(u.length+h.length)+":");const d=c=>{this.dispatch(c),t(":"),e.excludeValues||this.dispatch(r[c]),t(",")};for(const c of u)d(c);for(const c of h)d(c)}},array(r,a){if(a=a===void 0?e.unorderedArrays!==!1:a,t("array:"+r.length+":"),!a||r.length<=1){for(const i of r)this.dispatch(i);return}const o=new Map,f=r.map(i=>{const u=ee(e);u.dispatch(i);for(const[h,d]of u.getContext())o.set(h,d);return u.toString()});return s=o,f.sort(),this.array(f,!1)},date(r){return t("date:"+r.toJSON())},symbol(r){return t("symbol:"+r.toString())},unkown(r,a){if(t(a),!!r&&(t(":"),r&&typeof r.entries=="function"))return this.array(Array.from(r.entries()),!0)},error(r){return t("error:"+r.toString())},boolean(r){return t("bool:"+r)},string(r){t("string:"+r.length+":"),t(r)},function(r){t("fn:"),J(r)?this.dispatch("[native]"):this.dispatch(r.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(r.name)),e.respectFunctionProperties&&this.object(r)},number(r){return t("number:"+r)},xml(r){return t("xml:"+r.toString())},null(){return t("Null")},undefined(){return t("Undefined")},regexp(r){return t("regex:"+r.toString())},uint8array(r){return t("uint8array:"),this.dispatch(Array.prototype.slice.call(r))},uint8clampedarray(r){return t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(r))},int8array(r){return t("int8array:"),this.dispatch(Array.prototype.slice.call(r))},uint16array(r){return t("uint16array:"),this.dispatch(Array.prototype.slice.call(r))},int16array(r){return t("int16array:"),this.dispatch(Array.prototype.slice.call(r))},uint32array(r){return t("uint32array:"),this.dispatch(Array.prototype.slice.call(r))},int32array(r){return t("int32array:"),this.dispatch(Array.prototype.slice.call(r))},float32array(r){return t("float32array:"),this.dispatch(Array.prototype.slice.call(r))},float64array(r){return t("float64array:"),this.dispatch(Array.prototype.slice.call(r))},arraybuffer(r){return t("arraybuffer:"),this.dispatch(new Uint8Array(r))},url(r){return t("url:"+r.toString())},map(r){t("map:");const a=[...r];return this.array(a,e.unorderedSets!==!1)},set(r){t("set:");const a=[...r];return this.array(a,e.unorderedSets!==!1)},file(r){return t("file:"),this.dispatch([r.name,r.size,r.type,r.lastModfied])},blob(){if(e.ignoreUnknown)return t("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return t("domwindow")},bigint(r){return t("bigint:"+r.toString())},process(){return t("process")},timer(){return t("timer")},pipe(){return t("pipe")},tcp(){return t("tcp")},udp(){return t("udp")},tty(){return t("tty")},statwatcher(){return t("statwatcher")},securecontext(){return t("securecontext")},connection(){return t("connection")},zlib(){return t("zlib")},context(){return t("context")},nodescript(){return t("nodescript")},httpparser(){return t("httpparser")},dataview(){return t("dataview")},signal(){return t("signal")},fsevent(){return t("fsevent")},tlswrap(){return t("tlswrap")}}}const te="[native code] }",Fe=te.length;function J(e){return typeof e!="function"?!1:Function.prototype.toString.call(e).slice(-Fe)===te}class O{constructor(n,s){n=this.words=n||[],this.sigBytes=s===void 0?n.length*4:s}toString(n){return(n||Ae).stringify(this)}concat(n){if(this.clamp(),this.sigBytes%4)for(let s=0;s<n.sigBytes;s++){const t=n.words[s>>>2]>>>24-s%4*8&255;this.words[this.sigBytes+s>>>2]|=t<<24-(this.sigBytes+s)%4*8}else for(let s=0;s<n.sigBytes;s+=4)this.words[this.sigBytes+s>>>2]=n.words[s>>>2];return this.sigBytes+=n.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new O([...this.words])}}const Ae={stringify(e){const n=[];for(let s=0;s<e.sigBytes;s++){const t=e.words[s>>>2]>>>24-s%4*8&255;n.push((t>>>4).toString(16),(t&15).toString(16))}return n.join("")}},De={stringify(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=[];for(let t=0;t<e.sigBytes;t+=3){const r=e.words[t>>>2]>>>24-t%4*8&255,a=e.words[t+1>>>2]>>>24-(t+1)%4*8&255,o=e.words[t+2>>>2]>>>24-(t+2)%4*8&255,f=r<<16|a<<8|o;for(let i=0;i<4&&t*8+i*6<e.sigBytes*8;i++)s.push(n.charAt(f>>>6*(3-i)&63))}return s.join("")}},Ce={parse(e){const n=e.length,s=[];for(let t=0;t<n;t++)s[t>>>2]|=(e.charCodeAt(t)&255)<<24-t%4*8;return new O(s,n)}},je={parse(e){return Ce.parse(unescape(encodeURIComponent(e)))}};class ze{constructor(){this._data=new O,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new O,this._nDataBytes=0}_append(n){typeof n=="string"&&(n=je.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes}_doProcessBlock(n,s){}_process(n){let s,t=this._data.sigBytes/(this.blockSize*4);n?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const r=t*this.blockSize,a=Math.min(r*4,this._data.sigBytes);if(r){for(let o=0;o<r;o+=this.blockSize)this._doProcessBlock(this._data.words,o);s=this._data.words.splice(0,r),this._data.sigBytes-=a}return new O(s,a)}}class Le extends ze{update(n){return this._append(n),this._process(),this}finalize(n){n&&this._append(n)}}const I=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Pe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],C=[];class Ne extends Le{constructor(){super(...arguments),this._hash=new O([...I])}reset(){super.reset(),this._hash=new O([...I])}_doProcessBlock(n,s){const t=this._hash.words;let r=t[0],a=t[1],o=t[2],f=t[3],i=t[4],u=t[5],h=t[6],d=t[7];for(let c=0;c<64;c++){if(c<16)C[c]=n[s+c]|0;else{const x=C[c-15],z=(x<<25|x>>>7)^(x<<14|x>>>18)^x>>>3,b=C[c-2],L=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;C[c]=z+C[c-7]+L+C[c-16]}const g=i&u^~i&h,l=r&a^r&o^a&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=(i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25),k=d+S+g+Pe[c]+C[c],_=m+l;d=h,h=u,u=i,i=f+k|0,f=o,o=a,a=r,r=k+_|0}t[0]=t[0]+r|0,t[1]=t[1]+a|0,t[2]=t[2]+o|0,t[3]=t[3]+f|0,t[4]=t[4]+i|0,t[5]=t[5]+u|0,t[6]=t[6]+h|0,t[7]=t[7]+d|0}finalize(n){super.finalize(n);const s=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(s/4294967296),this._data.words[(t+64>>>9<<4)+15]=s,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function $e(e){return new Ne().finalize(e).toString(De)}function Ee(e,n={}){const s=typeof e=="string"?e:Be(e,n);return $e(s).slice(0,10)}function Re(e,n,s){var z;const[t={},r]=typeof n=="string"?[{},n]:[n,s],a=oe(()=>{let b=e;return typeof b=="function"&&(b=b()),w(b)}),o=t.key||Ee([r,((z=w(t.method))==null?void 0:z.toUpperCase())||"GET",w(t.baseURL),typeof a.value=="string"?a.value:"",w(t.params||t.query)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!e)throw new Error("[nuxt] [useFetch] request is missing.");const f=o===r?"$f"+o:o;if(!t.baseURL&&typeof a.value=="string"&&a.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:i,lazy:u,default:h,transform:d,pick:c,watch:g,immediate:l,...m}=t,S=ce({...m,cache:typeof t.cache=="boolean"?void 0:t.cache}),k={server:i,lazy:u,default:h,transform:d,pick:c,immediate:l,watch:g===!1?[]:[S,a,...g||[]]};let _;return Se(f,()=>{var L;return(L=_==null?void 0:_.abort)==null||L.call(_),_=typeof AbortController<"u"?new AbortController:{},typeof a.value=="string"&&a.value.startsWith("/"),(t.$fetch||globalThis.$fetch)(a.value,{signal:_.signal,...S})},k)}const U=new WeakMap;/*! @__NO_SIDE_EFFECTS__ */function qe(e){if(U.has(e))return U.get(e);const n={...e};return n.render?n.render=(s,...t)=>{var r;if(s.mounted$){const a=(r=e.render)==null?void 0:r.bind(s)(s,...t);return a.children===null||typeof a.children=="string"?y(a.type,a.props,a.children,a.patchFlag,a.dynamicProps,a.shapeFlag):$(a)}else return $("div",G(s.$attrs??s._.attrs,{key:"placeholder-key"}))}:n.template&&(n.template=`
      <template v-if="mounted$">${e.template}</template>
      <template v-else><div></div></template>
    `),n.setup=(s,t)=>{var a;const r=P(!1);return le(()=>{r.value=!0}),Promise.resolve(((a=e.setup)==null?void 0:a.call(e,s,t))||{}).then(o=>typeof o!="function"?{...o,mounted$:r}:(...f)=>{if(r.value){const i=o(...f);return i.children===null||typeof i.children=="string"?y(i.type,i.props,i.children,i.patchFlag,i.dynamicProps,i.shapeFlag):$(i)}else return $("div",G(t.attrs,{key:"placeholder-key"}))})},U.set(e,n),n}const Me=""+new URL("LOG-02-heartFilled.7a401f85.png",import.meta.url).href,Te=""+new URL("LOG-02-heartOutline.cdbc192a.png",import.meta.url).href,Ue={class:"relative shadow border-hidden w-full overflow-hidden mb-5 cursor-pointer h-[220px] md:h-[220px]"},He=["src"],We={class:"p-4 flex flex-col"},Ve={class:"text-bold"},Ge={class:"mt-auto"},Ke=["href"],Je={class:"mt-auto"},Ie={class:"mt-auto"},Ye={class:"flex flex-row space-x-4"},Qe=["href"],Xe=["href"],Ze=["href"],et=["href"],tt=["href"],rt=["href"],st=["href"],nt={__name:"Card.client",props:{restaurant:Object,favored:Boolean},emits:["favor"],setup(e,{emit:n}){return(s,t)=>{const r=_e;return j(),N("div",Ue,[y("img",{class:"absolute w-7 right-2 top-1 z-20",src:e.favored?w(Me):w(Te),alt:"",onClick:t[0]||(t[0]=a=>n("favor",e.restaurant.id))},null,8,He),y("div",{class:"flex flex-row md:flex-row h-full bg-zinc-100 rounded-2xl shadow-md",onClick:t[1]||(t[1]=a=>("navigateTo"in s?s.navigateTo:w(ue))(`/restaurant/${e.restaurant.name}-${e.restaurant.id}`))},[B(r,{src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/restaurant/${e.restaurant.figure}`,alt:"",class:"w-[150px] sm:w-[200px] md:w-[250px] lg:w-[300px] h-[150px] sm:h-full rounded-xl transform hover:scale-110 duration-200"},null,8,["src"]),y("div",We,[y("div",null,[y("p",Ve,E(e.restaurant.name),1),y("p",Ge,[y("a",{href:e.restaurant.google},E(e.restaurant.address),9,Ke)]),y("p",Je,"電話; "+E(e.restaurant.telphone),1),y("p",Ie,"營業: "+E(e.restaurant.hours),1)]),y("div",Ye,[A(y("a",{href:e.restaurant.web},[B(r,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Web.jpeg"})],8,Qe),[[D,e.restaurant.web]]),A(y("a",{href:e.restaurant.facebook},[B(r,{class:"h-12 hover:scale-150",src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Facebook.png
            `})],8,Xe),[[D,e.restaurant.facebook]]),A(y("a",{href:e.restaurant.line},[B(r,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Line.png"})],8,Ze),[[D,e.restaurant.line]]),A(y("a",{href:e.restaurant.ig},[B(r,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Ig.png"})],8,et),[[D,e.restaurant.ig]]),A(y("a",{href:e.restaurant.uber},[B(r,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Uber.jpeg"})],8,tt),[[D,e.restaurant.uber]]),A(y("a",{href:e.restaurant.panda},[B(r,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Panda.png"})],8,rt),[[D,e.restaurant.panda]]),A(y("a",{href:e.restaurant.menu},[B(r,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Menu.jpeg"})],8,st),[[D,e.restaurant.menu]])])])])])}}},at=nt;function it(e){return fe()?(he(e),!0):!1}function W(e){return typeof e=="function"?e():w(e)}const ot=typeof window<"u"&&typeof document<"u",ct=Object.prototype.toString,lt=e=>ct.call(e)==="[object Object]",ut=()=>{};function ft(e,n){function s(...t){return new Promise((r,a)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(r).catch(a)})}return s}const re=e=>e();function ht(e=re){const n=P(!0);function s(){n.value=!1}function t(){n.value=!0}const r=(...a)=>{n.value&&e(...a)};return{isActive:de(n),pause:s,resume:t,eventFilter:r}}function dt(e,n,s={}){const{eventFilter:t=re,...r}=s;return H(e,ft(t,n),r)}function pt(e,n,s={}){const{eventFilter:t,...r}=s,{eventFilter:a,pause:o,resume:f,isActive:i}=ht(t);return{stop:dt(e,n,{...r,eventFilter:a}),pause:o,resume:f,isActive:i}}function yt(e){var n;const s=W(e);return(n=s==null?void 0:s.$el)!=null?n:s}const M=ot?window:void 0;function Y(...e){let n,s,t,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,t,r]=e,n=M):[n,s,t,r]=e,!n)return ut;Array.isArray(s)||(s=[s]),Array.isArray(t)||(t=[t]);const a=[],o=()=>{a.forEach(h=>h()),a.length=0},f=(h,d,c,g)=>(h.addEventListener(d,c,g),()=>h.removeEventListener(d,c,g)),i=H(()=>[yt(n),W(r)],([h,d])=>{if(o(),!h)return;const c=lt(d)?{...d}:d;a.push(...s.flatMap(g=>t.map(l=>f(h,g,l,c))))},{immediate:!0,flush:"post"}),u=()=>{i(),o()};return it(u),u}const R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q="__vueuse_ssr_handlers__",gt=mt();function mt(){return q in R||(R[q]=R[q]||{}),R[q]}function bt(e,n){return gt[e]||n}function vt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const wt={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Q="vueuse-storage";function _t(e,n,s,t={}){var r;const{flush:a="pre",deep:o=!0,listenToStorageChanges:f=!0,writeDefaults:i=!0,mergeDefaults:u=!1,shallow:h,window:d=M,eventFilter:c,onError:g=p=>{console.error(p)}}=t,l=(h?pe:P)(n);if(!s)try{s=bt("getDefaultStorage",()=>{var p;return(p=M)==null?void 0:p.localStorage})()}catch(p){g(p)}if(!s)return l;const m=W(n),S=vt(m),k=(r=t.serializer)!=null?r:wt[S],{pause:_,resume:x}=pt(l,()=>z(l.value),{flush:a,deep:o,eventFilter:c});return d&&f&&(Y(d,"storage",T),Y(d,Q,L)),T(),l;function z(p){try{if(p==null)s.removeItem(e);else{const v=k.write(p),F=s.getItem(e);F!==v&&(s.setItem(e,v),d&&d.dispatchEvent(new CustomEvent(Q,{detail:{key:e,oldValue:F,newValue:v,storageArea:s}})))}}catch(v){g(v)}}function b(p){const v=p?p.newValue:s.getItem(e);if(v==null)return i&&m!==null&&s.setItem(e,k.write(m)),m;if(!p&&u){const F=k.read(v);return typeof u=="function"?u(F,m):S==="object"&&!Array.isArray(F)?{...m,...F}:F}else return typeof v!="string"?v:k.read(v)}function L(p){T(p.detail)}function T(p){if(!(p&&p.storageArea!==s)){if(p&&p.key==null){l.value=m;return}if(!(p&&p.key!==e)){_();try{(p==null?void 0:p.newValue)!==k.write(l.value)&&(l.value=b(p))}catch(v){g(v)}finally{p?ye(x):x()}}}}}function kt(e,n,s={}){const{window:t=M}=s;return _t(e,n,t==null?void 0:t.localStorage,s)}const St=qe(at),xt={class:"w-full"},Bt=y("h2",null,"餐廳推薦",-1),Ot=y("p",null,[y("span",{class:"text-red-600"},"可點選照片進入餐廳詳細介紹"),be(", 請輸入查詢區域 (A7, A8, A9, 桃園)及使用下拉選單選擇餐廳種類。 ")],-1),Ft={__name:"Cards",props:{restaurants:Array},setup(e){const n=kt("favorite",{}),s=t=>{t in n.value?delete n.value[t]:n.value={...n.value,[t]:!0}};return(t,r)=>{const a=St;return j(),N("div",xt,[Bt,Ot,(j(!0),N(ge,null,me(e.restaurants,o=>(j(),Z(a,{key:o.id,restaurant:o,onFavor:s,favored:o.id in w(n)},null,8,["restaurant","favored"]))),128))])}}},At=Ft,Dt=async(e,n)=>{const{data:s,error:t}=await Re(`/api/restaurants/${e}`,{params:{...n}},"$RyP6VEYOAC");if(t.value)throw X({...t.value,statusMessage:"Unable to fetch restaurant in useFetchRestaurants "});return s},Ct={key:1,class:"text-red-600"},Pt={__name:"[[type]]",async setup(e){let n,s;const t=ve(),r=([n,s]=we(()=>Dt(t.params.city,{type:t.params.type})),n=await n,s(),n);return(a,o)=>{const f=At;return j(),N("div",null,[w(r).length?(j(),Z(f,{key:0,restaurants:w(r)},null,8,["restaurants"])):(j(),N("h1",Ct,"沒有餐廳符合搜尋條件"))])}}};export{Pt as default};
