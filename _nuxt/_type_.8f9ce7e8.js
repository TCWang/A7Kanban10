import{_ as P}from"./nuxt-img.508af0a1.js";import{o as y,c as L,a as o,u as j,b as p,t as O,w as v,v as w,n as U,g as H,d as I,r as T,e as K,f as V,s as Q,h as X,F as Y,i as Z,j as z,k as ee,l as te}from"./entry.d6133e55.js";import{r as ae}from"./restaurants.585cb674.js";import"./vue.f36acd1f.1d587dcb.js";const re=""+new URL("LOG-02-heartFilled.7a401f85.png",import.meta.url).href,ne=""+new URL("LOG-02-heartOutline.cdbc192a.png",import.meta.url).href,se={class:"relative shadow border-hidden w-full overflow-hidden mb-5 cursor-pointer h-[220px] md:h-[220px]"},oe=["src"],ie={class:"p-4 flex flex-col"},le={class:"text-bold"},ce={class:"mt-auto"},ue=["href"],fe={class:"mt-auto"},de={class:"mt-auto"},he={class:"flex flex-row space-x-4"},pe=["href"],ge=["href"],me=["href"],be=["href"],ve=["href"],we=["href"],ye=["href"],_e={__name:"Card",props:{restaurant:Object,favored:Boolean},emits:["favor"],setup(e,{emit:t}){return(a,r)=>{const n=P;return y(),L("div",se,[o("img",{class:"absolute w-7 right-2 top-1 z-20",src:e.favored?j(re):j(ne),alt:"",onClick:r[0]||(r[0]=i=>t("favor",e.restaurant.id))},null,8,oe),o("div",{class:"flex flex-row md:flex-row h-full bg-zinc-100 rounded-2xl shadow-md",onClick:r[1]||(r[1]=i=>("navigateTo"in a?a.navigateTo:j(U))(`/restaurant/${e.restaurant.name}-${e.restaurant.id}`))},[p(n,{src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/restaurant/${e.restaurant.figure}`,alt:"",class:"w-[150px] sm:w-[200px] md:w-[250px] lg:w-[300px] h-[150px] sm:h-full rounded-xl transform hover:scale-110 duration-200"},null,8,["src"]),o("div",ie,[o("div",null,[o("p",le,O(e.restaurant.type)+" - "+O(e.restaurant.name),1),o("p",ce,[o("a",{href:e.restaurant.google},O(e.restaurant.address),9,ue)]),o("p",fe,"電話; "+O(e.restaurant.telphone),1),o("p",de,"營業: "+O(e.restaurant.hours),1)]),o("div",he,[v(o("a",{href:e.restaurant.web},[p(n,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Web.jpeg"})],8,pe),[[w,e.restaurant.web]]),v(o("a",{href:e.restaurant.facebook},[p(n,{class:"h-12 hover:scale-150",src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Facebook.png
            `})],8,ge),[[w,e.restaurant.facebook]]),v(o("a",{href:e.restaurant.line},[p(n,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Line.png"})],8,me),[[w,e.restaurant.line]]),v(o("a",{href:e.restaurant.ig},[p(n,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Ig.png"})],8,be),[[w,e.restaurant.ig]]),v(o("a",{href:e.restaurant.uber},[p(n,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Uber.jpeg"})],8,ve),[[w,e.restaurant.uber]]),v(o("a",{href:e.restaurant.panda},[p(n,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Panda.png"})],8,we),[[w,e.restaurant.panda]]),v(o("a",{href:e.restaurant.menu},[p(n,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Menu.jpeg"})],8,ye),[[w,e.restaurant.menu]])])])])])}}},ke=_e;function Se(e){return H()?(I(e),!0):!1}function N(e){return typeof e=="function"?e():j(e)}const xe=typeof window<"u"&&typeof document<"u",Oe=Object.prototype.toString,je=e=>Oe.call(e)==="[object Object]",Le=()=>{};function Ae(e,t){function a(...r){return new Promise((n,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(n).catch(i)})}return a}const R=e=>e();function Fe(e=R){const t=T(!0);function a(){t.value=!1}function r(){t.value=!0}const n=(...i)=>{t.value&&e(...i)};return{isActive:K(t),pause:a,resume:r,eventFilter:n}}function Ce(e,t,a={}){const{eventFilter:r=R,...n}=a;return V(e,Ae(r,t),n)}function qe(e,t,a={}){const{eventFilter:r,...n}=a,{eventFilter:i,pause:u,resume:k,isActive:S}=Fe(r);return{stop:Ce(e,t,{...n,eventFilter:i}),pause:u,resume:k,isActive:S}}function Ne(e){var t;const a=N(e);return(t=a==null?void 0:a.$el)!=null?t:a}const C=xe?window:void 0;function D(...e){let t,a,r,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,r,n]=e,t=C):[t,a,r,n]=e,!t)return Le;Array.isArray(a)||(a=[a]),Array.isArray(r)||(r=[r]);const i=[],u=()=>{i.forEach(f=>f()),i.length=0},k=(f,c,_,h)=>(f.addEventListener(c,_,h),()=>f.removeEventListener(c,_,h)),S=V(()=>[Ne(t),N(n)],([f,c])=>{if(u(),!f)return;const _=je(c)?{...c}:c;i.push(...a.flatMap(h=>r.map(d=>k(f,h,d,_))))},{immediate:!0,flush:"post"}),g=()=>{S(),u()};return Se(g),g}const A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F="__vueuse_ssr_handlers__",$e=Ee();function Ee(){return F in A||(A[F]=A[F]||{}),A[F]}function De(e,t){return $e[e]||t}function Ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Te={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},G="vueuse-storage";function Ve(e,t,a,r={}){var n;const{flush:i="pre",deep:u=!0,listenToStorageChanges:k=!0,writeDefaults:S=!0,mergeDefaults:g=!1,shallow:f,window:c=C,eventFilter:_,onError:h=s=>{console.error(s)}}=r,d=(f?Q:T)(t);if(!a)try{a=De("getDefaultStorage",()=>{var s;return(s=C)==null?void 0:s.localStorage})()}catch(s){h(s)}if(!a)return d;const m=N(t),$=Ge(m),x=(n=r.serializer)!=null?n:Te[$],{pause:W,resume:E}=qe(d,()=>J(d.value),{flush:i,deep:u,eventFilter:_});return c&&k&&(D(c,"storage",q),D(c,G,M)),q(),d;function J(s){try{if(s==null)a.removeItem(e);else{const l=x.write(s),b=a.getItem(e);b!==l&&(a.setItem(e,l),c&&c.dispatchEvent(new CustomEvent(G,{detail:{key:e,oldValue:b,newValue:l,storageArea:a}})))}}catch(l){h(l)}}function B(s){const l=s?s.newValue:a.getItem(e);if(l==null)return S&&m!==null&&a.setItem(e,x.write(m)),m;if(!s&&g){const b=x.read(l);return typeof g=="function"?g(b,m):$==="object"&&!Array.isArray(b)?{...m,...b}:b}else return typeof l!="string"?l:x.read(l)}function M(s){q(s.detail)}function q(s){if(!(s&&s.storageArea!==a)){if(s&&s.key==null){d.value=m;return}if(!(s&&s.key!==e)){W();try{(s==null?void 0:s.newValue)!==x.write(d.value)&&(d.value=B(s))}catch(l){h(l)}finally{s?X(E):E()}}}}}function ze(e,t,a={}){const{window:r=C}=a;return Ve(e,t,r==null?void 0:r.localStorage,a)}const Re={class:"w-full"},We=o("h2",null,"餐廳推薦",-1),Je=o("p",null,[o("span",{class:"text-red-600"},"可點選照片進入餐廳詳細介紹"),ee(", 請輸入查詢區域 (A7, A8, A9, 桃園)及使用下拉選單選擇餐廳種類。 ")],-1),Be={__name:"Cards",props:{restaurants:Array},setup(e){const t=ze("favorite",{}),a=r=>{r in t.value?delete t.value[r]:t.value={...t.value,[r]:!0}};return(r,n)=>{const i=ke;return y(),L("div",Re,[We,Je,(y(!0),L(Y,null,Z(e.restaurants,u=>(y(),z(i,{key:u.id,restaurant:u,onFavor:a,favored:u.id in j(t)},null,8,["restaurant","favored"]))),128))])}}},Me=Be,Pe={key:1,class:"text-red-600"},Qe={__name:"[[type]]",setup(e){const t=te(),a={filtered:[...ae].filter(r=>t.params.type===""||t.params.type==="所有餐廳"?r.category.toLowerCase()===t.params.city.toLowerCase():r.category.toLowerCase()===t.params.city.toLowerCase()&&r.type===t.params.type).sort((r,n)=>n.id.localeCompare(r.id))};return(r,n)=>{const i=Me;return y(),L("div",null,[a.filtered.length?(y(),z(i,{key:0,restaurants:a.filtered},null,8,["restaurants"])):(y(),L("h1",Pe,"沒有餐廳符合搜尋條件"))])}}};export{Qe as default};
