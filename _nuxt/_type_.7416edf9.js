import{_ as P}from"./nuxt-img.855ef9b6.js";import{o as y,c as j,a as o,u as O,b as p,t as A,w as v,v as w,n as U,g as H,d as I,r as T,e as K,f as V,s as Q,h as X,F as Y,i as Z,j as z,k as ee,l as te}from"./entry.342e283f.js";import{r as ae}from"./restaurants.b045f3ee.js";import"./vue.f36acd1f.cd5f4d26.js";const re=""+new URL("LOG-02-heartFilled.7a401f85.png",import.meta.url).href,ne=""+new URL("LOG-02-heartOutline.cdbc192a.png",import.meta.url).href,se={class:"relative shadow border-hidden w-full overflow-hidden mb-5 cursor-pointer h-[220px] md:h-[220px]"},oe=["src"],ie={class:"p-4 flex flex-col"},le={class:"text-bold"},ce={class:"mt-auto"},ue=["href"],fe={class:"mt-auto"},de={class:"mt-auto"},he={class:"flex flex-row space-x-4"},pe=["href"],ge=["href"],me=["href"],be=["href"],ve=["href"],we=["href"],ye=["href"],_e={__name:"Card",props:{restaurant:Object,favored:Boolean},emits:["favor"],setup(e,{emit:a}){return(t,r)=>{const s=P;return y(),j("div",se,[o("img",{class:"absolute w-7 right-2 top-1 z-20",src:e.favored?O(re):O(ne),alt:"",onClick:r[0]||(r[0]=i=>a("favor",e.restaurant.id))},null,8,oe),o("div",{class:"flex flex-row md:flex-row h-full bg-zinc-100 rounded-2xl shadow-md",onClick:r[1]||(r[1]=i=>("navigateTo"in t?t.navigateTo:O(U))(`/restaurant/${e.restaurant.name}-${e.restaurant.id}`))},[p(s,{src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/restaurant/${e.restaurant.figure}`,alt:"",class:"w-[150px] sm:w-[200px] md:w-[250px] lg:w-[300px] h-[150px] sm:h-full rounded-xl transform hover:scale-110 duration-200"},null,8,["src"]),o("div",ie,[o("div",null,[o("p",le,A(e.restaurant.name),1),o("p",ce,[o("a",{href:e.restaurant.google},A(e.restaurant.address),9,ue)]),o("p",fe,"電話; "+A(e.restaurant.telphone),1),o("p",de,"營業: "+A(e.restaurant.hours),1)]),o("div",he,[v(o("a",{href:e.restaurant.web},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Web.jpeg"})],8,pe),[[w,e.restaurant.web]]),v(o("a",{href:e.restaurant.facebook},[p(s,{class:"h-12 hover:scale-150",src:`https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Facebook.png
            `})],8,ge),[[w,e.restaurant.facebook]]),v(o("a",{href:e.restaurant.line},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Line.png"})],8,me),[[w,e.restaurant.line]]),v(o("a",{href:e.restaurant.ig},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Ig.png"})],8,be),[[w,e.restaurant.ig]]),v(o("a",{href:e.restaurant.uber},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Uber.jpeg"})],8,ve),[[w,e.restaurant.uber]]),v(o("a",{href:e.restaurant.panda},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Panda.png"})],8,we),[[w,e.restaurant.panda]]),v(o("a",{href:e.restaurant.menu},[p(s,{class:"h-12 hover:scale-150",src:"https://kgptltaqnkidtcqkathb.supabase.co/storage/v1/object/public/a7-images/logo/LOG-01-Menu.jpeg"})],8,ye),[[w,e.restaurant.menu]])])])])])}}},ke=_e;function Se(e){return H()?(I(e),!0):!1}function $(e){return typeof e=="function"?e():O(e)}const xe=typeof window<"u"&&typeof document<"u",Oe=Object.prototype.toString,je=e=>Oe.call(e)==="[object Object]",Ae=()=>{};function Fe(e,a){function t(...r){return new Promise((s,i)=>{Promise.resolve(e(()=>a.apply(this,r),{fn:a,thisArg:this,args:r})).then(s).catch(i)})}return t}const R=e=>e();function Le(e=R){const a=T(!0);function t(){a.value=!1}function r(){a.value=!0}const s=(...i)=>{a.value&&e(...i)};return{isActive:K(a),pause:t,resume:r,eventFilter:s}}function qe(e,a,t={}){const{eventFilter:r=R,...s}=t;return V(e,Fe(r,a),s)}function Ne(e,a,t={}){const{eventFilter:r,...s}=t,{eventFilter:i,pause:u,resume:k,isActive:S}=Le(r);return{stop:qe(e,a,{...s,eventFilter:i}),pause:u,resume:k,isActive:S}}function $e(e){var a;const t=$(e);return(a=t==null?void 0:t.$el)!=null?a:t}const q=xe?window:void 0;function D(...e){let a,t,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,r,s]=e,a=q):[a,t,r,s]=e,!a)return Ae;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const i=[],u=()=>{i.forEach(f=>f()),i.length=0},k=(f,c,_,h)=>(f.addEventListener(c,_,h),()=>f.removeEventListener(c,_,h)),S=V(()=>[$e(a),$(s)],([f,c])=>{if(u(),!f)return;const _=je(c)?{...c}:c;i.push(...t.flatMap(h=>r.map(d=>k(f,h,d,_))))},{immediate:!0,flush:"post"}),g=()=>{S(),u()};return Se(g),g}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L="__vueuse_ssr_handlers__",Ce=Ee();function Ee(){return L in F||(F[L]=F[L]||{}),F[L]}function De(e,a){return Ce[e]||a}function Ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Te={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},G="vueuse-storage";function Ve(e,a,t,r={}){var s;const{flush:i="pre",deep:u=!0,listenToStorageChanges:k=!0,writeDefaults:S=!0,mergeDefaults:g=!1,shallow:f,window:c=q,eventFilter:_,onError:h=n=>{console.error(n)}}=r,d=(f?Q:T)(a);if(!t)try{t=De("getDefaultStorage",()=>{var n;return(n=q)==null?void 0:n.localStorage})()}catch(n){h(n)}if(!t)return d;const m=$(a),C=Ge(m),x=(s=r.serializer)!=null?s:Te[C],{pause:W,resume:E}=Ne(d,()=>J(d.value),{flush:i,deep:u,eventFilter:_});return c&&k&&(D(c,"storage",N),D(c,G,M)),N(),d;function J(n){try{if(n==null)t.removeItem(e);else{const l=x.write(n),b=t.getItem(e);b!==l&&(t.setItem(e,l),c&&c.dispatchEvent(new CustomEvent(G,{detail:{key:e,oldValue:b,newValue:l,storageArea:t}})))}}catch(l){h(l)}}function B(n){const l=n?n.newValue:t.getItem(e);if(l==null)return S&&m!==null&&t.setItem(e,x.write(m)),m;if(!n&&g){const b=x.read(l);return typeof g=="function"?g(b,m):C==="object"&&!Array.isArray(b)?{...m,...b}:b}else return typeof l!="string"?l:x.read(l)}function M(n){N(n.detail)}function N(n){if(!(n&&n.storageArea!==t)){if(n&&n.key==null){d.value=m;return}if(!(n&&n.key!==e)){W();try{(n==null?void 0:n.newValue)!==x.write(d.value)&&(d.value=B(n))}catch(l){h(l)}finally{n?X(E):E()}}}}}function ze(e,a,t={}){const{window:r=q}=t;return Ve(e,a,r==null?void 0:r.localStorage,t)}const Re={class:"w-full"},We=o("h2",null,"餐廳推薦",-1),Je=o("p",null,[o("span",{class:"text-red-600"},"可點選照片進入餐廳詳細介紹"),ee(", 請輸入查詢區域 (A7, A8, A9, 桃園)及使用下拉選單選擇餐廳種類。 ")],-1),Be={__name:"Cards",props:{restaurants:Array},setup(e){const a=ze("favorite",{}),t=r=>{r in a.value?delete a.value[r]:a.value={...a.value,[r]:!0}};return(r,s)=>{const i=ke;return y(),j("div",Re,[We,Je,(y(!0),j(Y,null,Z(e.restaurants,u=>(y(),z(i,{key:u.id,restaurant:u,onFavor:t,favored:u.id in O(a)},null,8,["restaurant","favored"]))),128))])}}},Me=Be,Pe={key:1,class:"text-red-600"},Qe={__name:"[[type]]",setup(e){const a=te(),t={filtered:[...ae].filter(r=>a.params.type===""?r.category===a.params.city:r.category===a.params.city&&r.type===a.params.type)};return(r,s)=>{const i=Me;return y(),j("div",null,[t.filtered.length?(y(),z(i,{key:0,restaurants:t.filtered},null,8,["restaurants"])):(y(),j("h1",Pe,"沒有餐廳符合搜尋條件"))])}}};export{Qe as default};
